(this["webpackJsonpevents-app-frontend"]=this["webpackJsonpevents-app-frontend"]||[]).push([[0],{123:function(e,t,n){},127:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(15),c=n.n(a),r=(n(71),n(19)),i=n(59),j=(n(72),n(73),n(46)),l=n(7),d=n(31),o=(n(74),n(4));var b,m=function(e){return Object(o.jsxs)(d.a,Object(l.a)(Object(l.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"event-modal",children:[Object(o.jsx)(d.a.Header,{closeButton:!0,children:Object(o.jsx)(d.a.Title,{id:"contained-modal-title-vcenter",children:e.event&&Object(o.jsx)("span",{children:e.event.title})})}),Object(o.jsx)(d.a.Body,{children:e.event&&Object(o.jsx)("iframe",{title:e.event.id,src:e.event.spotifyUrl,width:"100%",height:"380",frameBorder:"0",allowtransparency:"true",allow:"encrypted-media"})}),Object(o.jsx)(d.a.Footer,{children:Object(o.jsx)("div",{className:"dot"})})]}))},h=function(e){var t=e.events,n=Object(s.useState)(!1),a=Object(r.a)(n,2),c=a[0],i=a[1],l=Object(s.useState)(null),d=Object(r.a)(l,2),b=d[0],h=d[1],O=t.concat().sort((function(e,t){return new Date(e.date)-new Date(t.date)}));return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"event-container",children:O.map((function(e){return Object(o.jsxs)("div",{className:"event",children:[Object(o.jsx)("div",{className:"event-title",children:e.title}),Object(o.jsxs)("div",{className:"event-date",children:[Object(o.jsx)(j.a,{}),Object(o.jsx)("span",{className:"icon-margin"}),Object(o.jsx)("p",{children:new Intl.DateTimeFormat("en-GB",{weekday:"short",year:"numeric",month:"short",day:"numeric"}).format(new Date(e.date))})]}),Object(o.jsxs)("div",{className:"event-time",children:[Object(o.jsx)(j.b,{}),Object(o.jsx)("span",{className:"icon-margin"}),"Door Open:\xa0",Object(o.jsx)("p",{children:new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"numeric"}).format(new Date(e.startTime))})]}),e.supportingActs.length>0&&Object(o.jsxs)("div",{className:"event-support",children:["Supporting ",1===e.supportingActs.length?"Artist":"Artists",": \xa0",e.supportingActs.map((function(t,n){return Object(o.jsxs)("span",{children:[t,n<e.supportingActs.length-1?", ":""]})}))]}),0===e.supportingActs.length&&Object(o.jsx)("div",{className:"event-support",children:"No Supporting Artist"}),Object(o.jsxs)("div",{className:"btn-holder",children:[Object(o.jsxs)("button",{className:"btn btn-white mr-xs",onClick:function(){h(e),i(!0)},children:["Listen  ",Object(o.jsx)("span",{className:"icon-margin"}),Object(o.jsx)(j.c,{})]}),Object(o.jsx)("button",{className:"btn btn-grey",children:"Get Tickets"})]})]},e.id)}))}),Object(o.jsx)(m,{show:c,onHide:function(){return i(!1)},event:b})]})},O=n(55),u=n.n(O),v=(n(78),n(79),function(e){var t=e.userChange,n=e.startDate,s=e.endDate;return Object(o.jsxs)("div",{className:"filter-container",children:[Object(o.jsx)("p",{className:"mr-s",children:"Filter by Date "}),Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{className:"mr-s",children:"from"})," ",Object(o.jsx)(u.a,{selected:n,onChange:function(e){return t(e,s)}})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{className:"mr-s",children:"to"})," ",Object(o.jsx)(u.a,{selected:s,onChange:function(e){return t(n,e)}})]})]})}),x=(n(123),function(e){var t=e.userChange,n=e.startDate,s=e.endDate;return Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)("h1",{className:"title",children:"upcoming events in multiverse"}),Object(o.jsx)(v,{userChange:t,startDate:n,endDate:s})]})}),p=n(148),g=n(150),N=Object(p.a)(b||(b=Object(i.a)(["\n   query GetEvents($dateFrom: String, $dateTo: String)\n    {\n      events (dateFrom:$dateFrom, dateTo:$dateTo) {\n        id\n        title\n        date\n        startTime\n        spotifyUrl\n        supportingActs\n      }\n    }\n"])));var f=function(){var e=Object(s.useState)(new Date("2022-01-01")),t=Object(r.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(new Date("2022-12-31")),i=Object(r.a)(c,2),j=i[0],l=i[1],d=function(e){var t=e.getFullYear(),n=(1+e.getMonth()).toString();n=n.length>1?n:"0"+n;var s=e.getDate().toString();return t+"-"+n+"-"+(s=s.length>1?s:"0"+s)+"T00:00:00"},b=Object(g.a)(N,{variables:{dateFrom:d(n),dateTo:d(j)}}),m=b.data,O=b.loading,u=b.error;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"app",children:[Object(o.jsx)(x,{userChange:function(e,t){a(e),l(t)},startDate:n,endDate:j}),O&&!m&&Object(o.jsxs)("div",{className:"center",children:[Object(o.jsx)("div",{className:"wave"}),Object(o.jsx)("div",{className:"wave"}),Object(o.jsx)("div",{className:"wave"}),Object(o.jsx)("div",{className:"wave"}),Object(o.jsx)("div",{className:"wave"})]}),u&&Object(o.jsx)("div",{className:"error-message center blinking",children:Object(o.jsx)("p",{children:" Oops! something went wrong!"})}),m&&0===m.events.length&&Object(o.jsx)("div",{className:"warrning-message center white-text",children:"Sorry, No event during these dates!"}),m&&m.events.length>0&&Object(o.jsx)(h,{events:m.events})]}),Object(o.jsx)("footer",{children:Object(o.jsx)("span",{className:"dot"})})]})},w=n(147),D=n(149),y=n(146),F=new w.a({uri:"http://localhost:4000/graphql",cache:new D.a});c.a.render(Object(o.jsx)(y.a,{client:F,children:Object(o.jsx)(f,{})}),document.getElementById("root"))},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},79:function(e,t,n){}},[[127,1,2]]]);
//# sourceMappingURL=main.cec25883.chunk.js.map